import React from "react";
import { Svg, Path, G, SvgProps } from "react-native-svg";

// Front-visible muscles from the schema
export type FrontMuscleId =
  | "biceps_brachii"
  | "deltoids"
  | "external_obliques"
  | "gastrocnemius"
  | "pectoralis_major"
  | "peroneus_longus"
  | "rectus_abdominis"
  | "rectus_femoris"
  | "sartorius"
  | "serratus_anterior"
  | "soleus"
  | "tensor_fasciae_latae"
  | "vastus_lateralis"
  | "vastus_medialis";

// Body contour path
export const FRONT_BODY_CONTOUR =
  "M175.75 187.477V178.917C175.75 172.73 172.262 166.141 170.093 162.63C172.241 155.569 172.262 138.649 171.096 130.792C170.38 126.024 167.004 122.131 165.337 119.637C165.368 119.445 165.398 119.254 165.429 119.063C166.35 113.299 162.361 99.1455 159.977 93.1803C158.392 89.2169 155.078 87.718 152.418 86.5109C150.976 85.857 149.739 85.2937 149.033 84.489C147.243 82.4268 145.453 81.8634 143.878 81.3705C143.458 81.2398 143.059 81.1191 142.681 80.9581C142.077 80.7167 141.535 80.2439 140.727 79.5196C139.346 78.2823 137.26 76.4213 132.81 73.8863C130.366 72.4881 126.919 70.8685 123.267 69.1484C117.294 66.3317 110.318 63.0926 108.65 61.0707C107.137 59.2298 106.973 53.4054 106.952 51.484C107.668 49.6834 107.75 46.8366 107.73 45.1869C108.026 45.3277 108.395 45.3981 108.835 45.3478C110.328 45.1667 111.719 42.8933 113.386 39.9258C113.857 39.0909 114.297 38.3062 114.634 37.8334C116.076 35.8014 115.759 31.4055 114.706 28.116C114.399 27.1604 113.877 26.5971 113.151 26.4663C112.159 26.2953 111.064 27.0296 110.287 27.7338C110.43 23.6296 110.379 12.0914 105.561 6.40785C101.419 1.51898 93.1234 0.301794 89.973 0.0100708H88.7354C85.5952 0.301794 77.2998 1.51898 73.147 6.40785C68.3294 12.0914 68.2782 23.6296 68.4214 27.7338C67.644 27.0296 66.5496 26.2852 65.5574 26.4663C64.8312 26.5971 64.3095 27.1503 64.0027 28.116C62.9491 31.4055 62.632 35.8014 64.0743 37.8334C64.4118 38.3062 64.8516 39.0909 65.3222 39.9258C66.9894 42.8933 68.3907 45.1667 69.8739 45.3478C70.3137 45.3981 70.6819 45.3277 70.9786 45.1869C70.9479 47.0076 71.0502 50.2769 71.9912 52.0071C71.9912 52.0071 71.9912 52.0172 72.0014 52.0172C71.9605 53.3652 71.6741 59.1594 70.0682 61.1109C68.401 63.1328 61.6297 66.3217 55.6562 69.1383C52.0046 70.8585 48.5575 72.478 46.1129 73.8763C41.6532 76.4213 39.5666 78.2823 38.196 79.5096C37.3879 80.2338 36.8458 80.7167 36.2423 80.948C35.8537 81.0989 35.4547 81.2297 35.0456 81.3605C33.4704 81.8534 31.6804 82.4167 29.8904 84.4789C29.1846 85.2837 27.947 85.847 26.5047 86.5008C23.8453 87.708 20.5312 89.2068 18.9458 93.1702C16.5523 99.1355 12.5734 113.289 13.494 119.053C13.5554 119.466 13.627 119.868 13.6986 120.27C12.0108 122.745 8.97296 126.346 8.27742 131.004C7.11136 138.81 6.98862 155.076 9.08548 162.198C6.9477 165.578 3.16313 172.458 3.16313 178.896V187.457C2.55965 188.423 -0.580525 194.006 0.0945605 204.9C0.350275 209.075 0.831017 212.927 1.33222 217.002C2.23233 224.264 5.23953 232.483 4.89176 242.2C4.35987 257.008 4.57467 271.141 5.16793 273.877C5.71005 276.382 10.4152 288.554 10.6198 289.067L10.7936 289.52L11.2642 289.399C11.2948 289.389 14.1077 288.604 14.3532 284.943L15.8568 286.633L16.2557 286.09C16.3478 285.969 17.6672 284.118 18.0457 281.834C18.8844 280.446 20.6233 276.865 18.598 273.837C16.2966 270.387 12.512 263.265 12.4711 263.194C12.4609 262.953 12.4404 262.752 12.4098 262.601C12.9723 258.366 12.4098 256.827 14.0156 256.233C14.1486 256.183 14.2202 256.203 14.2918 256.253C15.4579 256.988 15.7238 258.959 16.0102 261.042C16.2762 262.993 16.5523 265.015 17.565 266.584C18.7515 268.425 20.5824 270.809 22.7099 269.069C24.1112 267.922 22.8838 260.046 22.5463 257.712C22.1269 254.795 22.1269 253.98 20.9506 249.363C20.2039 246.425 19.7539 244.896 19.5595 243.538C19.4572 242.412 19.7539 237.744 20.1835 234.334C20.6744 230.411 23.1395 224.003 25.7581 217.213C28.7346 209.457 31.8236 201.44 32.0179 196.782C32.3248 189.57 31.3531 185.988 31.0053 184.962C31.6292 184.228 33.3476 181.975 33.8182 179.067C34.3603 175.677 34.1966 169.793 34.1762 169.652C34.1966 169.551 35.9968 159.391 38.9836 154.734C41.2441 151.193 44.5888 144.272 46.0004 140.641C46.522 144.222 47.0948 147.431 47.6779 149.151C48.4143 151.324 49.3554 153.738 50.2555 156.072C51.5443 159.401 52.7717 162.55 53.0786 164.19C53.5184 166.513 53.2115 183.645 53.1092 189.268C53.0888 190.475 53.0683 191.27 53.0683 191.471C53.0683 191.481 53.0683 191.481 53.0581 191.491C52.9558 191.602 52.874 191.793 52.8331 191.994C52.6081 192.406 52.2398 192.96 51.9125 193.483C50.1123 196.279 47.0948 200.947 47.6779 205.554C48.3223 210.694 49.1201 212.837 49.4065 213.481C48.8132 215.332 44.4456 229.395 45.1207 239.535C45.356 243.075 43.9445 248.588 42.1545 255.579C39.853 264.582 35.4854 285.325 34.5137 298.261C33.0817 317.394 38.6563 339.294 40.2008 351.124C40.5281 353.659 40.7531 355.328 40.7838 355.841C40.8554 357.089 40.7429 357.954 40.6099 358.95C40.4258 360.308 40.2212 361.847 40.4258 364.734C40.4463 365.026 40.4974 365.348 40.5588 365.69C39.8121 367.349 33.184 382.318 33.0101 392.075C32.9283 396.844 34.483 407.436 36.1196 418.642C37.613 428.792 39.0245 439.274 39.4746 445.752L39.4848 445.923C39.5257 446.467 39.5564 446.98 39.5768 447.462C39.6484 450.933 39.3109 457.844 39.0859 458.518C38.554 460.107 38.063 461.616 38.1039 463.95C37.9607 464.091 37.8175 464.221 37.6743 464.342C35.7207 465.982 34.9331 468.185 34.1659 470.328C33.9205 471.032 33.675 471.686 33.409 472.319C32.3555 474.744 23.027 482.308 21.7484 483.093C20.746 483.707 18.1991 487.378 18.1991 487.378C17.2479 488.384 17.5445 490.034 17.7286 491.13C17.7593 491.322 17.79 491.503 17.8207 491.664C17.9025 492.247 18.0764 492.649 18.2298 492.971C18.3526 493.253 18.4446 493.454 18.4548 493.716C18.4651 494.058 18.4037 494.46 18.3526 494.852C18.3014 495.204 18.2503 495.577 18.2503 495.909C18.24 496.522 18.2707 497.991 18.8742 498.474C19.222 498.755 19.5493 498.947 20.0198 499.037C19.9687 499.188 19.8971 499.389 19.8152 499.631C19.447 500.717 20.2653 501.824 20.879 502.266C21.3086 502.578 22.0042 502.608 22.4849 502.588C22.4849 502.679 22.5054 502.739 22.5156 502.789C22.5872 503.554 22.8531 504.61 23.8555 505.083C24.8682 505.556 25.3898 505.435 25.9831 505.163C27.1389 506.743 29.5017 507.698 31.6292 507.497C31.9054 507.467 32.1714 507.427 32.4373 507.356C34.6262 506.803 37.3675 504.952 38.3801 502.467C39.1984 500.476 40.3849 499.822 41.4384 499.369C45.7958 498.021 48.1791 493.243 48.8132 488.807C49.3758 484.894 51.9227 480.628 52.5876 479.753C55.6357 478.496 57.4359 476.906 59.0009 474.663C60.6375 472.299 60.6989 470.79 60.2488 468.839C59.809 466.978 58.6327 458.206 58.2133 456.838C57.8553 455.641 57.6916 454.424 57.4052 452.945C56.5256 448.318 62.3559 424.447 64.0743 419.789C64.7289 418.009 65.6699 416.067 66.7644 413.804C68.6158 409.981 70.9172 405.233 72.7583 399.218C75.5405 390.114 71.1422 369.985 70.6103 367.601C72.2264 364.814 73.6687 361.917 74.9166 358.97C75.919 356.606 76.8498 354.161 77.3203 351.637C78.0158 347.915 78.6193 340.863 79.3148 332.705C79.9286 325.492 80.6343 317.324 81.4833 310.805C82.5368 302.758 84.7053 293.664 86.4442 286.361C87.6307 281.362 88.6637 277.046 89.0013 274.441C89.6355 269.572 89.0115 264.723 88.6535 262.611C89.032 262.651 90.1674 262.661 90.4435 262.611C90.0958 264.723 89.4718 269.582 90.0958 274.451C90.4333 277.056 91.4664 281.372 92.6529 286.371C94.3918 293.674 96.5602 302.768 97.6138 310.815C98.4627 317.344 99.1685 325.512 99.7822 332.715C100.478 340.873 101.081 347.925 101.777 351.647C102.247 354.172 103.188 356.616 104.181 358.98C105.428 361.927 106.871 364.824 108.487 367.611C107.955 369.995 103.546 390.124 106.339 399.228C108.18 405.243 110.481 409.991 112.333 413.814C113.427 416.067 114.368 418.019 115.023 419.799C116.741 424.447 122.571 448.328 121.692 452.955C121.405 454.444 121.242 455.661 120.884 456.848C120.475 458.206 119.288 466.978 118.848 468.849C118.388 470.81 118.46 472.309 120.096 474.673C121.661 476.926 123.461 478.516 126.509 479.763C127.174 480.638 129.731 484.904 130.284 488.817C130.918 493.253 133.301 498.031 137.659 499.379C138.712 499.832 139.909 500.486 140.717 502.477C141.73 504.962 144.471 506.813 146.66 507.366C146.926 507.437 147.192 507.477 147.468 507.507C149.585 507.708 151.948 506.743 153.114 505.173C153.707 505.455 154.219 505.566 155.242 505.093C156.326 504.59 156.551 503.373 156.592 502.608C157.072 502.628 157.768 502.608 158.208 502.286C158.822 501.844 159.64 500.737 159.272 499.651C159.19 499.429 159.128 499.238 159.087 499.097C159.087 499.087 159.077 499.077 159.077 499.057C159.548 498.967 159.875 498.776 160.223 498.494C160.826 498.011 160.857 496.532 160.847 495.929C160.837 495.597 160.785 495.225 160.745 494.872C160.693 494.48 160.632 494.078 160.642 493.736C160.642 493.484 160.734 493.273 160.867 492.991C161.01 492.669 161.195 492.267 161.276 491.684C161.297 491.523 161.328 491.342 161.368 491.15C161.563 490.054 161.849 488.404 160.898 487.398C160.898 487.398 158.351 483.727 157.349 483.113C156.06 482.318 146.731 474.754 145.688 472.339C145.412 471.706 145.177 471.052 144.931 470.348C144.164 468.215 143.376 466.002 141.423 464.362C141.28 464.242 141.136 464.111 140.993 463.97C141.034 461.636 140.533 460.127 140.011 458.538C139.786 457.864 139.449 450.953 139.52 447.483C139.541 447 139.571 446.487 139.612 445.944C139.623 445.883 139.633 445.823 139.643 445.773H139.622C140.073 439.294 141.494 428.812 142.977 418.662C144.624 407.456 146.179 396.874 146.087 392.096C145.913 382.398 139.377 367.571 138.549 365.75C138.641 365.338 138.702 364.955 138.722 364.613C138.937 361.726 138.722 360.187 138.538 358.829C138.405 357.833 138.283 356.968 138.364 355.721C138.395 355.208 138.61 353.538 138.947 351.003C140.492 339.173 146.067 317.274 144.635 298.141C143.663 285.204 139.305 264.462 136.994 255.459C135.204 248.477 133.792 242.955 134.027 239.414C134.703 229.274 130.335 215.221 129.742 213.36C130.028 212.716 130.826 210.563 131.47 205.433C132.053 200.826 129.036 196.158 127.236 193.362C126.704 192.537 126.111 191.612 126.08 191.35C126.08 191.149 126.07 190.354 126.039 189.147C125.937 183.524 125.62 166.393 126.07 164.069C126.387 162.429 127.604 159.281 128.893 155.951C129.803 153.617 130.734 151.203 131.47 149.03C132.033 147.37 132.565 144.282 133.066 140.842C133.066 140.832 133.066 140.832 133.066 140.822C134.518 144.363 137.761 150.861 139.858 154.512C143.55 160.951 144.819 171.442 145.023 178.856C145.105 181.804 147.212 184.027 147.836 184.751C147.488 185.787 146.517 189.368 146.823 196.571C147.018 201.228 150.107 209.246 153.083 217.002C155.692 223.792 158.157 230.21 158.658 234.123C159.016 236.949 159.374 238.78 159.394 240.168C159.415 241.506 159.405 242.844 159.272 244.192C159.149 245.429 158.617 246.898 157.983 249.403C156.807 254.02 156.807 254.845 156.387 257.752C156.05 260.086 154.822 267.962 156.223 269.109C158.351 270.85 160.182 268.465 161.368 266.625C162.381 265.055 162.657 263.033 162.923 261.082C163.21 258.999 163.476 257.028 164.642 256.294C164.723 256.243 164.795 256.223 164.918 256.273C166.524 256.867 165.961 258.406 166.524 262.641C166.493 262.792 166.473 262.993 166.462 263.235C166.421 263.305 162.637 270.427 160.335 273.877C158.32 276.905 160.049 280.476 160.888 281.875C161.256 284.168 162.586 286.009 162.678 286.13L163.077 286.673L164.58 284.983C164.826 288.645 167.639 289.429 167.669 289.439L168.14 289.56L168.314 289.107C168.518 288.594 173.213 276.412 173.765 273.918C174.359 271.191 174.574 257.058 174.042 242.241C173.694 232.523 176.701 224.295 177.601 217.042C178.102 212.968 178.583 209.115 178.839 204.94C179.493 194.026 176.353 188.443 175.75 187.477Z";

// Simplified muscle paths - in a real implementation, you'd extract all paths from the SVG
export const frontBodyData: Record<FrontMuscleId, string[]> = {
  biceps_brachii: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  deltoids: [
    "M52.3523 236.205C51.2988 243.357 49.8872 253.145 42.9625 256.877C43.0239 256.636 43.0852 256.394 43.1466 256.153Z",
  ],
  external_obliques: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  gastrocnemius: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  pectoralis_major: [
    "M52.3523 236.205C51.2988 243.357 49.8872 253.145 42.9625 256.877C43.0239 256.636 43.0852 256.394 43.1466 256.153Z",
  ],
  peroneus_longus: [
    "M45.806 415.735C45.8879 402.839 46.0311 390.888 46.1129 377.992C44.3638 374.783 41.9294 369.754 40.9475 366.675Z",
  ],
  rectus_abdominis: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  rectus_femoris: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  sartorius: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  serratus_anterior: [
    "M52.3523 236.205C51.2988 243.357 49.8872 253.145 42.9625 256.877C43.0239 256.636 43.0852 256.394 43.1466 256.153Z",
  ],
  soleus: [
    "M119.523 435.27C121.293 443.107 122.786 450.4 122.275 453.066C122.203 453.458 122.336 454.997 122.04 455.248Z",
  ],
  tensor_fasciae_latae: [
    "M52.3523 236.205C51.2988 243.357 49.8872 253.145 42.9625 256.877C43.0239 256.636 43.0852 256.394 43.1466 256.153Z",
  ],
  vastus_lateralis: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
  vastus_medialis: [
    "M71.6843 398.966C69.8636 404.901 67.5827 409.609 65.7415 413.401C64.6368 415.685 63.6856 417.646 63.0105 419.477Z",
  ],
};

export interface FrontBodyProps extends SvgProps {
  highlightedMuscles?: FrontMuscleId[];
  muscleColor?: string;
  defaultColor?: string;
  onMusclePress?: (muscleId: FrontMuscleId) => void;
}

export const FrontBodyMuscleMap: React.FC<FrontBodyProps> = ({
  highlightedMuscles = [],
  muscleColor = "#6F2DBD",
  defaultColor = "#E5E5E5",
  onMusclePress,
  ...svgProps
}) => {
  return (
    <Svg width={179} height={508} viewBox="0 0 179 508" {...svgProps}>
      {/* Body contour */}
      <Path
        d={FRONT_BODY_CONTOUR}
        fill="#F8F8F8"
        stroke="#E0E0E0"
        strokeWidth={1}
      />

      {/* Render muscles */}
      {Object.entries(frontBodyData).map(([muscleId, paths]) => {
        const isHighlighted = highlightedMuscles.includes(
          muscleId as FrontMuscleId,
        );
        const fillColor = isHighlighted ? muscleColor : defaultColor;
        const opacity = isHighlighted ? 0.8 : 0.6;

        return (
          <G
            key={muscleId}
            onPress={() => onMusclePress?.(muscleId as FrontMuscleId)}
          >
            {paths.map((pathData, index) => (
              <Path
                key={`${muscleId}-${index}`}
                d={pathData}
                fill={fillColor}
                opacity={opacity}
                stroke="none"
              />
            ))}
          </G>
        );
      })}
    </Svg>
  );
};
